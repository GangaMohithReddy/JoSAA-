{% extends 'main.html' %}
{% block content %}
<div class="form-container">
  <form id="rankSubmissionForm" method="post" action="{% url 'predictor_display' %}">
    {% csrf_token %}
    <input
      name="user_rank"
      type="number"
      placeholder="Enter your category rank"
      required
    />
    <select id="categorySelect" name="category" required>
      <option value="">Select your Category:</option>
      <option value="OPEN">OPEN</option>
      <option value="EWS">EWS</option>
      <option value="OPEN(PwD)">OPEN(PwD)</option>
      <option value="OBC-NCL">OBC-NCL</option>
      <option value="SC">SC</option>
      <option value="ST">ST</option>
    </select>
    <select id="roundSelect" name="round" required>
      <option value="">Select round no:</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
    </select>
    <select id="yearSelect" name="year" required>
      <option value="">Select year:</option>
      <option value="2018">2018</option>
      <option value="2019">2019</option>
      <option value="2020">2020</option>
      <option value="2021">2021</option>
    </select>
    <select id="genderSelect" name="gender" required>
      <option value="">Select gender:</option>
      <option value="Gender-Neutral">Gender-Neutral</option>
      <option value="Female-only">Female-only (including Supernumerary)</option>
    </select>
    <input type="hidden" name="invisibleField" id="invisibleField" value="">
    <div class="g-recaptcha" data-sitekey="your-site-key"></div>
    <input type="submit" value="Submit" />
  </form>
</div>

<style>
  body {
    font-family: 'Verdana', sans-serif;
    background-color: #282828;
    color: #dcdcdc;
  }

  .form-container {
    background: linear-gradient(140deg, #5e35b1, #ab47bc, #ffa726, #ffeb3b, #81c784);
    background-size: 400% 400%;
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
    max-width: 700px;
    margin: 60px auto;
    animation: gradientAnimation 15s ease infinite;
  }

  @keyframes gradientAnimation {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  input[type="number"],
  select,
  input[type="submit"] {
    padding: 12px;
    margin: 10px 0;
    border: 1px solid #888;
    border-radius: 10px;
    font-size: 15px;
  }

  input[type="number"]:focus,
  select:focus {
    border-color: #666;
    outline: none;
  }

  input[type="submit"] {
    background-color: #444;
    color: #fff;
    cursor: pointer;
    transition: background-color 0.5s;
  }

  input[type="submit"]:hover {
    background-color: #666;
  }

  select {
    appearance: none;
    background: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4 5"><path fill="%23666" d="M2 0L0 2h4zm0 5L0 3h4z"/></svg>')
      no-repeat right 10px center;
    background-size: 14px;
    padding-right: 40px;
    transition: background-color 0.5s;
  }

  select:focus {
    background-color: rgba(0, 150, 136, 0.4);
    color: #444;
  }
</style>

<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script>
  document.getElementById('rankSubmissionForm').addEventListener('submit', function(event) {
    const honeypotField = document.getElementById('invisibleField');
    if (honeypotField.value !== '') {
      event.preventDefault();
    }
  });
</script>
{% endblock %}
